<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Dersler</title>
    <link rel="stylesheet" href="/stylesheets/instructor.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
</head>
<body>
<%- include('../partials/navbar')%>
<div class="wrapper">
    <div class="header">Ders Listesi</div>
    <div class="cards_wrap" id="cards">
        <div class="card_item">
            <div class="card_inner">
                <div class="card_top">
                    <img src="/images/course.png" alt="card"/>
                </div>
                <div class="card_bottom">
                    <div class="card_info">
                        <p class="title" style="text-align: center">BIL-441</p>
                        <p>
                            Ders Tanımı
                        </p>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="footer">
        <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#exampleModal">
            Ders Ekle
        </button>

        <!-- Modal -->
        <div class="modal fade" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
            <div class="modal-dialog" role="document">
                <div class="modal-content">
                    <div class="modal-body">
                        <form id="my-form">
                            <div class="form-group">
                                <label for="course_code" style="color: darkred">Ders Kodu</label><input type="text" class="form-control" id="course_code" placeholder="Ders Kodu" required/>
                            </div>
                            <br>
                            <div class="form-group">
                                <label for="course_name" style="color: darkred">Ders Adı</label><input type="text" class="form-control" id="course_name" placeholder="Ders Adı" required/>
                            </div>
                            <br>
                            <button type="submit" id="submit" class="btn btn-primary" data-dismiss="modal" onclick="addCard()">Ekle</button>
                            <button type="button" class="btn btn-secondary" data-dismiss="modal">İptal</button>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<%- include('../partials/footer')%>

<script type="text/javascript">
    function addCard() {
        if (document.getElementById('course_code').value && document.getElementById('course_name').value){
            const card = document.createElement("div");
            const card_inner = document.createElement("div");
            const card_top = document.createElement("div");
            const card_bottom = document.createElement("div");
            const card_info = document.createElement("div");
            const img = document.createElement("img");
            const p1 = document.createElement("p");
            const p2 = document.createElement("p");
            card.className = "card_item";
            card_inner.className = "card_inner";
            card_top.className = "card_top";
            card_bottom.className = "card_bottom";
            card_info.className = "card_info";
            img.src = "/images/course.png";
            img.alt = "Course Card"
            p1.className = "title";
            p1.style.textAlign = "center";
            p1.textContent = document.getElementById('course_code').value;
            p2.textContent = document.getElementById('course_name').value;

            card_info.appendChild(p1);
            card_info.appendChild(p2);

            card_bottom.appendChild(card_info);

            card_top.appendChild(img);

            card_inner.appendChild(card_top);
            card_inner.appendChild(card_bottom);

            card.appendChild(card_inner);

            document.getElementById("cards").appendChild(card);

            $("#exampleModal").on("hidden.bs.modal", function(){
                $(this).find('form').trigger('reset');
            });
        }
    }
</script>
<script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/popper.js@1.12.9/dist/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>
</body>
</html>