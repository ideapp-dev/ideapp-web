<!DOCTYPE html>
<html lang="en">

  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
  
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet"
      integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
      <link rel="stylesheet" href="/stylesheets/profile.css">
  </head>

    <body class="text-center d-flex flex-column vh-100">
        <main class="login-form card">
          <div class="card-body">
              <img src="/images/default.jpg" class="mb-3 rounded" height="144" width="144">
              <h3>Profile</h3>
              <div class="form-floating mb-3">
                <input type="name" class="form-control" placeholder="name" name="name" id="name" disabled />
                <label for="name">Name Surname</label>
              </div>
              <div class="form-floating mb-3">
                <input type="email" class="form-control" placeholder="username@etu.edu.tr" name="email" id="email" disabled />
                <label for="email">Mail</label>
              </div>
              <div class="form-floating mb-3">
                <input type="password" class="form-control" placeholder="Password" name="password" id="password" disabled/>
                <label for="password">Password</label>
              </div>
              <div class="form-floating mb-3">
                <input type="id" class="form-control" placeholder="Student id" name="student id" id="student id" disabled />
                <label for="password">Student id</label>
              </div>
              <Input type="button" class="w-100 btn btn-lg btn-primary mt-3" id="edit" value="Edit"></Input>
            
              <script>
                var clickCount = 0;
                var but = document.getElementById('edit');
                but.addEventListener("click",profile_edit);
                
                
                function profile_edit() {
                  clickCount++;
                  document.getElementById('email').disabled = false;
                  document.getElementById('password').disabled = false;
                  document.getElementById('edit').value = "Save";  

                  if(clickCount>0){
                    but.removeEventListener("click",profile_edit); 
                    but.addEventListener("click",reload_profile);
                  }         
                };

                function reload_profile(){
                    window.location='./profile';
                };
              </script>
            </form>
          </div>
          <%- include('../partials/footer')%>
        </main>
              
          </div>
                <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js"
                    integrity="sha384-IQsoLXl5PILFhosVNubq5LC7Qb9DXgDA9i+tQ8Zj3iwWAwPtgFTxbJ8NT4GN1R8p"
                    crossorigin="anonymous"></script>
                <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.min.js"
                    integrity="sha384-cVKIPhGWiC2Al4u+LWgxfKTRIcfu0JTxR+EQDz/bgldoEyl4H0zUF0QKbrJ0EcQF"
                    crossorigin="anonymous"></script>
    </body>

</html>